<mvc:View controllerName="projectb1006.controller.Main"
    xmlns:c="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:t="sap.ui.table"
    xmlns:f="sap.f"
    xmlns:u="sap.ui.unified"
    xmlns:layout="sap.ui.layout">
		<f:DynamicPage id="dynamicPageId" headerExpanded="{/headerExpanded}" toggleHeaderOnTitleClick="{/titleClickable}">
			<!-- DynamicPage Title -->
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="Header Title"/>
					</f:heading>
					<f:actions>
						<Button text="Search" press="onSearch"/>
					</f:actions>
				</f:DynamicPageTitle>
			</f:title>

			<!-- DynamicPage Header -->
			<f:header>
				<f:DynamicPageHeader pinnable="true">
					<layout:HorizontalLayout allowWrapping="true">
						<layout:VerticalLayout class="sapUiMediumMarginEnd">
							<Label text="Order ID"></Label>
							<Input id="idInput" showValueHelp="true" valueHelpRequest="onValueHelp"/>
						<!-- onValueHelp 함수에서 Dialog 띄우기

							 파일명: Order.fragment.xml
							 파일위치: webapp/view/fragment/Order.fragment.xml
							 Fragment 안에 Dialog 구성

							 Dialog content 안에는 sap.ui.table.Table 을 세팅
					
						-->
						</layout:VerticalLayout>

						<layout:VerticalLayout>
							<ObjectAttribute title="Availability"/>
							<ObjectStatus text="In Stock" state="Success" />
						</layout:VerticalLayout>
					</layout:HorizontalLayout>
				</f:DynamicPageHeader>
			</f:header>
			<f:content>
				<Table id="idProductsTable"
						sticky="HeaderToolbar,ColumnHeaders"
						inset="false"
						items="{/Orders}"
					   class="sapFDynamicPageAlignContent"
					   width="auto">
					<headerToolbar>
						<Toolbar>
							<Title text="Products" level="H2"/>
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column width="100%">
							<Text text="Products" />
						</Column>
                        <Column width="100%">
							<Text text="Customer" />
						</Column>
                        <Column width="100%">
							<Text text="Employee" />
						</Column>
                        <Column width="100%">
							<Text text="OrderDate" />
						</Column>
                        <Column width="100%">
							<Text text="RequiredDate" />
						</Column>
                        <Column width="100%">
							<Text text="ShippedDate" />
						</Column>
					</columns>
					<items>
						<ColumnListItem>
                        <cells>
                        <Text text="{OrderID}"/>
                        <Text text="{CustomerID}"/>
						<!-- Expression Binding 적용 -->
                        <Text text="{= ${EmployeeID} >= 3 ? 'YES' : ${EmployeeID} }"/>
						<!-- <Input enabled="{= ${EmployeeID} >= 3 ? false : true }" value="{EmployeeID}"/> -->
						
						<!-- Formatter 함수 적용 -->
                        <Text text="{
							path: 'OrderDate',
							formatter: '.formatter.fnDateString'
							}"/>
                        <Text text="{
							path: 'RequiredDate',
							formatter: '.formatter.fnDateString'
							}"/>
                        <Text text="{
							path: 'ShippedDate',
							formatter: '.formatter.fnDateString'
							}"/>
                        </cells>
						</ColumnListItem>
					</items>
				</Table>
			</f:content>

			<!-- DynamicPage Footer -->
			<f:footer>
				<OverflowToolbar>
					<Button icon="sap-icon://message-popup"
							text="{/messagesLength}"
							type="Emphasized"
							press="onMessageButtonPress"
							visible="{= !!${/messagesLength}}"/>
					<ToolbarSpacer/>
					<Button type="Accept" text="Accept"/>
					<Button type="Reject" text="Reject"/>
				</OverflowToolbar>
			</f:footer>
		</f:DynamicPage>
</mvc:View>
